<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlusÂ®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Task</title>
  <style>
		@import "https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic&subset=latin,cyrillic";
		*,
		*:after,
		*:before {
		  -webkit-box-sizing: border-box;
		  -moz-box-sizing: border-box;
		  box-sizing: border-box;
		}
		html,
		body {
		  position: relative;
		  min-height: 100%;
		  height: 100%;
		}
		html {
		  position: relative;
		  overflow-x: hidden;
		  margin: 16px;
		  padding: 0;
		  min-height: 100%;
		  font-size: 62.5%;
		}
		body {
		  font-family: 'RobotoDraft', 'Roboto', 'Helvetica Neue, Helvetica, Arial', sans-serif;
		  font-style: normal;
		  font-weight: 300;
		  font-size: 1.4rem;
		  line-height: 2rem;
		  letter-spacing: 0.01rem;
		  color: #212121;
		  background-color: #f5f5f5;
		  -webkit-font-smoothing: antialiased;
		  -moz-osx-font-smoothing: grayscale;
		  text-rendering: optimizeLegibility;
		}
		#data {
		  margin: 20px auto;
		  max-width: 960px;
		}
		table {
		  width: 100%;
		  max-width: 100%;
		  margin-bottom: 2rem;
		  background-color: #fff;
		}
		table > thead > tr,
		table > tbody > tr,
		table > tfoot > tr {
		  -webkit-transition: all 0.3s ease;
		  -o-transition: all 0.3s ease;
		  transition: all 0.3s ease;
		}
		table > thead > tr > th,
		table > tbody > tr > th,
		table > tfoot > tr > th,
		table > thead > tr > td,
		table > tbody > tr > td,
		table > tfoot > tr > td {
		  text-align: left;
		  padding: 1.6rem;
		  vertical-align: top;
		  border-top: 0;
		  -webkit-transition: all 0.3s ease;
		  -o-transition: all 0.3s ease;
		  transition: all 0.3s ease;
		}
		table > thead > tr > th {
		  font-weight: 400;
		  color: #757575;
		  vertical-align: bottom;
		  border-bottom: 1px solid rgba(0, 0, 0, 0.12);
		}
		table > caption + thead > tr:first-child > th,
		table > colgroup + thead > tr:first-child > th,
		table > thead:first-child > tr:first-child > th,
		table > caption + thead > tr:first-child > td,
		table > colgroup + thead > tr:first-child > td,
		table > thead:first-child > tr:first-child > td {
		  border-top: 0;
		}
		table > tbody + tbody {
		  border-top: 1px solid rgba(0, 0, 0, 0.12);
		}
		table > tbody > tr:nth-child(odd) > td,
		table > tbody > tr:nth-child(odd) > th {
		  background-color: #f5f5f5;
		}
		table > tbody > tr:hover > td,
		table > tbody > tr:hover > th {
		  background-color: rgba(0, 0, 0, 0.12);
		}
    </style>
 </head>
 <body>
	<div id="data"></div>
	<script type="text/javascript">
	<!--
		var myArray = [
			  {
			  "company_name":"Medline Industries, Inc.",
			  "product":"Benzalkonium Chloride",
			  "price":"481.63"
			  },
			  {
			  "company_name":"PD-Rx Pharmaceuticals, Inc.",
			  "product":"Alprazolam",
			  "price":"167.62",
			  "fda_date_approved":"02/12/2015"
			  },
			  {
			  "company_name":"West-ward Pharmaceutical Corp.",
			  "product":"Flumazenil",
			  "fda_date_approved":"23/04/2015"
			  },
			  {
			  "company_name":"HyVee Inc",
			  "product":"Aspirin",
			  "price":"218.32",
			  "fda_date_approved":"26/07/2015"
			  },
			  {
			  "company_name":"Aurobindo Pharma Limited",
			  "product":"carisoprodol",
			  "price":"375.58",
			  "fda_date_approved":"28/11/2014"
			  },
			  {
			  "company_name":"Apotex Corp",
			  "product":"Risperidone",
			  "price":"213.49",
			  "fda_date_approved":"06/11/2015"
			  },
			  {
			  "company_name":"Unit Dose Services",
			  "product":"Lovastatin",
			  "price":"169.14",
			  "fda_date_approved":"14/09/2015"
			  },
			  {
			  "company_name":"Jubilant HollisterStier LLC",
			  "product":"Dog Hair Canis spp.",
			  "fda_date_approved":"31/12/2014"
			  },
			  {
			  "company_name":"AAA Pharmaceutical, Inc.",
			  "product":"ACETAMINOPHEN, CHLORPHENIRAMINE MALEATE, DEXTROMETHORPHAN HYDROBROMIDE, and PHENYLEPHRINE HYDROCHLORIDE",
			  "price":"183.33",
			  "fda_date_approved":"13/12/2015"
			  },
			  {
			  "company_name":"AKG Innovations LLC",
			  "product":"AVOBENZONE, OCTINOXATE, OCTISALATE",
			  "fda_date_approved":"22/01/2015"
			  },
			  {
			  "company_name":"hikma Farmaceutica",
			  "product":"Oxytocin"
			  },
			  {
			  "company_name":"prime Packaging, Inc.",
			  "product":"Avobenzone, Homosalate, Octisalate, Octocrylene, Oxybenzone",
			  "price":"208.17"
			  },
			  {
			  "company_name":"Davion, Inc",
			  "product":"Triclosan",
			  "price":"80.30",
			  "fda_date_approved":"13/12/2014"
			  },
			  {
			  "company_name":"CARDINAL HEALTH",
			  "product":"CARBOXYMETHYLCELLULOSE SODIUM, GLYCERIN",
			  "price":"330.22",
			  "fda_date_approved":"11/08/2015"
			  },
			  {
			  "company_name":"Amgen Inc",
			  "product":"darbepoetin alfa",
			  "price":"332.28",
			  "fda_date_approved":"01/07/2015"
			  },
			  {
			  "company_name":"Autumn Harp, Inc.",
			  "product":"Salicylic Acid",
			  "price":"34.43",
			  "fda_date_approved":"25/03/2015"
			  },
			  {
			  "company_name":"American Regent, Inc.",
			  "product":"sodium phosphate, monobasic, monohydrate and sodium phosphate, dibasic anhydrous",
			  "price":"11.60"
			  },
			  {
			  "company_name":"J. A. Cosmetics U.S. INC",
			  "product":"TITANIUM DIOXIDE",
			  "price":"130.90",
			  "fda_date_approved":"01/12/2015"
			  },
			  {
			  "company_name":"NATURE REPUBLIC CO., LTD.",
			  "product":"Titanium Dioxide, OCTINOXATE, Zinc Oxide",
			  "price":"124.48"
			  },
			  {
			  "company_name":"L. Perrigo Company",
			  "product":"Dextromethorphan Hydrobromide, Guaifenesin",
			  "price":"73.09",
			  "fda_date_approved":"03/02/2016"
			  }
		];

		var listData = function(){
			var col = [];
			for (var i = 0; i < myArray.length; i++) {
				for (var key in myArray[i]) {
					if (col.indexOf(key) === -1) {
						col.push(key);
					}
				}
			}
			var table = document.createElement("table");
			var tr = table.insertRow(-1);
			for (var i = 0; i < col.length; i++) {
				var th = document.createElement("th");
				th.innerHTML = col[i];
				tr.appendChild(th);
				th.id = col[i];
			}		
			for (var i = 0; i < myArray.length; i++) {
				tr = table.insertRow(-1);
				for (var j = 0; j < col.length; j++) {
					var tabCell = tr.insertCell(-1);
					//console.log(myArray[i][col[j]]);
					if(myArray[i][col[j]]){
						tabCell.innerHTML = myArray[i][col[j]];
					}else{
						tabCell.innerHTML = '';
					}
					
				}
			}
			var divContainer = document.getElementById("data");
			divContainer.innerHTML = "";
			divContainer.appendChild(table);
		}
		listData();

		var companyIdentifier = true;
		var companyname = document.getElementById('company_name');
		document.addEventListener('click', function() {
			if(companyIdentifier == true){
				companyIdentifier = false;
				myArray.sort(function(a, b){
					var textA = a.company_name.toUpperCase();
					var textB = b.company_name.toUpperCase();
					return textA > textB;
				});
			}else{
				companyIdentifier = true;
				myArray.sort(function(a, b){
					var textA = a.company_name.toUpperCase();
					var textB = b.company_name.toUpperCase();
					return textA < textB;
				});
			}
			var myNode = document.getElementById("data");
			while (myNode.firstChild) {
				myNode.removeChild(myNode.firstChild);
			}
			listData();
		});

	//-->
	</script>
 </body>
</html>
